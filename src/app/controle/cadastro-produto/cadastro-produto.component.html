<br>
<br>
<br>
 
<div class="container">
  
  <mt-paginacao></mt-paginacao>

    <table class="table">
        <thead class="thead">
          <tr>
            <th>
              <h2>Cadastro Produto</h2>
            </th>
            <th>
                <span class="float-right">
              <button type="button" class="btn btn-outline-primary" [routerLink]="['/novoProduto']">Novo Produto</button>
                </span>
            </th>
          </tr>
        </thead>
      </table>

  <table class="table text-center">
    <thead class="thead-light">
      <tr>
        <th><h6>Nome</h6></th>
        <th><h6>Quantidade</h6></th>
        <th><h6>Preço</h6></th>
        <th><h6>Sobre</h6></th>
        <th><h6>Imagem</h6></th>
        <th><h6>Editar</h6></th>
        <th><h6>Excluir</h6></th>
      </tr>
    </thead>
    <tbody *ngFor="let produto of produtos">
        <tr>
          <td>{{produto.name}}</td>
          <td>{{produto.quantity}}</td>
          <td>{{produto.price}}</td>
          <td>{{produto.detail}}</td>
          <td><img class="img-thumbnail" style="height: 120px; width: 360px;" [src]="produto.file"></td>
          <td><button class="btn btn-outline-success" data-toggle="modal" data-target="#myModal" (click)="onEdit(produto, modalProduto)">Atualizar</button></td>
          <td><button class="btn btn-outline-danger" data-toggle="modal" data-target="#myModal2" (click)="remover(produto)">Remover</button></td>
        </tr>
      </tbody>
  </table>
</div>

<ng-template #modalProduto>
        <div class="modal-header">
          <h4 class="modal-title">Atualizar Produto</h4>
          <button type="button" (click)="fecharModal()" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          
          <div class="form-group">
            <label for="name">Nome</label>
            <input [(ngModel)]="produto.name" type="text" class="form-control" id="name">
          </div>
          <div class="form-group">
              <label for="quantity">Quantidade</label>
              <input [(ngModel)]="produto.quantity" type="text" class="form-control" id="quantity">
            </div>
          <div class="form-group">
            <label for="category">Preço</label>
            <input [(ngModel)]="produto.price" type="text" class="form-control" id="category">
          </div>
          <div class="mb-3">
              <label for="validationTextarea">Sobre</label>
              <textarea [(ngModel)]="produto.detail" class="form-control" id="validationTextarea">
              </textarea>
            </div>

        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-success" data-dismiss="modal" (click)="atualizar()">Atualizar</button>
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal" (click)="fecharModal()">Cancelar</button>
        </div>

</ng-template>

<swal 
#deleteSwal
title="Sucesso"
text="Produto atualizado com sucesso!"
type="success"
(confirm)="fecharModal()">
</swal>

<swal
#deleteSwal2
title="Sucesso"
text="Produto removido com sucesso!"
type="success"
(confirm)="listar()">
</swal>

  <!-- <div class="modal fade" id="myModal2">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body text-center" data-toggle="modal" data-target="#myModal2">
          <p>Você deseja realmente excluir essa loja?</p>
          <button type="button" class="btn btn-outline-success"> Sim </button>
          <button type="button" class="btn btn-danger"> Não </button>
        </div>
      </div>
    </div>
</div> -->