<div class="container">
  <div class="py-5 text-center"><br>
    <img class="d-block mx-auto mb-4" src="./assets/pagamento-icon.png" alt="" width="72" height="72">
    <h2>Pagamento</h2>
  </div>

  <div class="row">
    <div class="col-md-4 order-md-2 mb-4" >

      <div *ngIf="carrinho.length > 0">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Seu Carrinho!</span>
          <span class="badge badge-secondary badge-pill">3</span>
        </h4>
        <ul class="list-group mb-3" *ngFor="let produtos of carrinho">
          <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">{{produtos.name}}</h6>
              <small class="text-muted">Descrição Breve</small>
            </div>
            <span class="text-muted">R${{produtos.price}}</span>
          </li>
          <li class="list-group-item d-flex justify-content-between bg-light">
            <div class="text-danger">
              <h6 class="my-0">Frete</h6>
            </div>
            <span class="text-danger">-R$5</span>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>Total (R$)</span>
            <strong>R$20</strong>
          </li>
        </ul>
      </div>

      
      <div *ngIf="carrinho.length == 0">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Seu Carrinho está vazio!</span>
          </h4>
      </div>

    </div>


    <div class="col-md-8 order-md-1">
      <h4 class="mb-3">Endereço</h4>

<!-- INICÍO DO FORMULÁRIO -->
      <form class="needs-validation" novalidate [formGroup]="form"  (ngSubmit)="onSubmit()">

          {{ form.valid }}
          {{ form.value | json }}
        
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="firstName">Primeiro Nome*</label>
            <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="Joãozinho" value="" required>
            <div class="invalid-feedback">
                O primeiro nome válido é obrigatório.
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <label for="lastName">Último Nome*</label>
            <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Nascimento" value="" required>
            <div class="invalid-feedback">
                O último nome válido é obrigatório.
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="email">Email <span class="text-muted">(Opcional)</span></label>
          <input type="email" class="form-control" id="email" formControlName="email" placeholder="email@exemplo.com">
          <div class="invalid-feedback">
             Por favor, insira um endereço de e-mail válido para atualizações de envio.
          </div>
        </div>
        <div class="mb-3">
          <label for="address">Endereço*</label>
          <input type="text" class="form-control" id="address" formControlName="address" placeholder="Rua Nome, 983" required>
          <div class="invalid-feedback">
            Por favor insira seu endereço de entrega.
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mb-3">
            <label for="zip">CEP*</label>
            <input type="text" class="form-control" id="zip" formControlName="zip" placeholder="XXXXX-XXX" required>
            <div class="invalid-feedback">
              CEP requerido.
            </div>
          </div>
        </div>

        <h4 class="mb-3">Pagamento</h4>

        <div>
          <p style="margin-bottom: -5px; padding: 10px; font-size: 17px;">Selecione a forma de pagamento:</p>
          <select class="custom-select" id="payment" formControlName="payment">
                  <option value="Crédito">Crédito</option>
                  <option value="Débito">Débito</option>
                  <option value="Dinheiro">Dinheiro</option>
          </select>
        </div>

        <hr class="mb-4">
        <button class="btn btn-primary btn-lg btn-block" (click)="cadastrar()" type="submit" [routerLink]="['venda-finalizada']">Concluir Pedido!</button>
      </form>
<!-- FIM DO FORMULÁRIO -->

    </div>
  </div>
  <br>