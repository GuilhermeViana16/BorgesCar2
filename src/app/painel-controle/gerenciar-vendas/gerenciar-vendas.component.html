<div class="container-fluid">
    <div class="row">
      <nav style="margin-top: -24px" class="col-md-2 d-md-block bg-light sidebar">
        <app-sidebar></app-sidebar>
      </nav>

    <main style="margin-top: -24px" role="main" class="col-md-10 ml-sm-auto col-lg-10 px-4"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
      <br>
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Gerenciar Vendas</h1>
        </div>
        
      <table class="table text-center">
        <thead class="thead-light">
          <tr>
            <th><h6>Nome</h6></th>
            <th><h6>Pagamento</h6></th>        
            <th><h6>Valor</h6></th>
            <th><h6>Visualizar</h6></th>
            <th><h6>Remover</h6></th>
          </tr>
        </thead>
        <tbody *ngFor="let venda of vendas">
            <tr>
              <td>{{venda.firstName}} {{venda.lastName}}</td>
              <td>{{venda.payment}}</td>
              <td>{{venda.total}}</td>
              <td><button class="btn btn-outline-success" data-toggle="modal" data-target="#myModal" (click)="onEdit(venda, modalVenda)">Ver</button></td>
              <td><button class="btn btn-outline-danger" data-toggle="modal" data-target="#myModal" (click)="remover(venda)">Excluir</button></td>
            </tr>
        </tbody>
      </table>

    </main>
  </div>
</div>


<ng-template #modalVenda>

    <div class="modal-header">
      <h4 class="modal-title">Visualizar Venda</h4>
      <button type="button" (click)="fecharModal()" class="close" data-dismiss="modal">&times;</button>
    </div>
  
    <!-- Modal body -->
    <div class="modal-body">
      
      <div class="form-group">
        <label for="name">Nome</label> 
        <input [(ngModel)]="venda.firstName" type="text" class="form-control" id="firstName" disabled>
      </div>
      <div class="form-group">
        <label for="category">Sobrenome</label>
        <input [(ngModel)]="venda.lastName" type="text" class="form-control" id="lastName" disabled>
      </div>
      <div class="form-group">
        <label for="category">Email</label>
        <input [(ngModel)]="venda.email" type="text" class="form-control" id="email" disabled>
      </div>
      <div class="form-group">
        <label for="category">Endere√ßo</label>
        <input [(ngModel)]="venda.address" type="text" class="form-control" id="address" disabled>
      </div>
      <div class="form-group">
        <label for="category">CEP</label>
        <input [(ngModel)]="venda.zip" type="text" class="form-control" id="zip" disabled>
      </div>
      <div class="form-group">
        <label for="name">Data</label> 
        <input [(ngModel)]="venda.date" type="text" class="form-control" id="date" disabled>
      </div>
      <div class="form-group">
        <label for="category">Pagamento</label>
        <input [(ngModel)]="venda.payment" type="text" class="form-control" id="payment" disabled>
      </div>
      <div class="form-group">
        <label for="category">Valor</label>
        <input [(ngModel)]="venda.total" type="text" class="form-control" id="total" disabled>
      </div>
  
    </div>
  
    <!-- Modal footer -->
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-danger" data-dismiss="modal" (click)="fecharModal()">Fechar</button>
    </div>
  
  </ng-template>

<swal 
#deleteSwal2
title="Sucesso"
text="Venda removida com sucesso!"
type="success"
(confirm)="listar()">
</swal>
