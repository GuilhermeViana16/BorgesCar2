<div class="container-fluid">
  <div class="row">
    <nav style="margin-top: -24px" class="col-md-2  d-md-block bg-light sidebar">
      <app-sidebar></app-sidebar>
    </nav>

    <main style="margin-top: -24px" role="main" class="col-md-10 ml-sm-auto col-lg-10 px-4"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Cadastrar Loja</h1>
      </div>

      <!-- AQUI FICA O FORMULÁRIO -->

      <form class="needs-validation" novalidate [formGroup]= "form" (ngSubmit)="onSubmit()">

        {{ form.valid }}
        {{ form.value | json }}
    
        <div class="group-gap">
        
            <!-- Upload image -->
            <div class="avatar-upload">
                <div class="avatar-edit">
                    <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput (change)="uploadFile($event)" required/>
                </div>
                <div class="avatar-preview">
                    <div id="imagePreview" [style.backgroundImage]="'url('+ imageUrl +')'"></div>
                </div>
            </div>
        </div>
        
        <!-- Upload Button -->
        <button type="submit" class="btn btn-danger btn-lg btn-block" (click)="fileInput.click()">Upload Image</button>
        
        <div>
            <input type="text" Class="form-control mt-3 mb-3" id="name" placeholder="Nome da Loja"
                formControlName = "name"/>
        </div>
    
        <div>
            <input type="text" class="form-control mt-3 mb-3" id="category" placeholder="Categoria da Loja" 
                formControlName = "category"/>
        </div>
    
        <div>
            <textarea class="mb-3 form-control" rows="5" id="about" placeholder="Descrição da Loja" 
                formControlName = "about" required></textarea>
        </div>
    
    
    
        <div class="text-right">
    
            <button [disabled]="!form.valid" type="submit" class="btn btn-outline-primary" (click)="cadastrar()">
                <h4>Cadastrar</h4>
            </button>
    
            <button style="margin-left: 5px;" type="button" class="btn btn-outline-danger" (click)="onCancel()">
                <h4>Cancelar</h4>
            </button>
    
        </div>
    </form>      

      <!-- ---------------------- -->

    </main>
  </div>
</div>

<swal 
#deleteSwal
title="Sucesso"
text="Cadastro efetuado com sucesso!"
type="success">
</swal>