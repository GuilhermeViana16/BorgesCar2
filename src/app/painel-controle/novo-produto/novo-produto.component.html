<main role="main" class="container">

  <app-sidebar></app-sidebar>

  <div style="background-color: #00BFFF" class="d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded shadow-sm">
    <img class="mr-3" src="https://img.icons8.com/ios-filled/240/000000/new-product.png" alt="" width="48" height="48">
    <div class="lh-100">
      <h6 class="mb-0 text-white lh-100">Cadastrar Produto</h6>
    </div>
  </div>


  <form class="needs-validation" novalidate [formGroup]="form" (ngSubmit)="onSubmit()">

    <!-- {{ form.valid }}
    {{ form.value | json }} -->

<div class="group-gap">

    <div class="avatar-upload">
        <div class="avatar-edit">
            <input class="form-control" formControlName= "file" type='file' id="file" accept=".png, .jpg, .jpeg" #fileInput (change)="uploadFile($event)"/>
        </div>
        <div class="avatar-preview">
            <div id="imagePreview" [style.backgroundImage]="'url('+ imageUrl +')'"></div>
        </div>
    </div>

</div>
<button type="submit" class="btn btn-danger btn-lg btn-block" (click)="fileInput.click()">Selecionar Imagem</button>


<div>
    <p style="margin-bottom: -5px; padding: 10px; font-size: 17px;">Selecione a loja do produto:</p>
    <select class="form-control custom-select" id="lojaId" formControlName="lojaId">
            <option *ngFor="let loja of lojas" value="{{loja.id}}">{{loja.name}}</option>
    </select>
</div>

<div>
    <input
        type="text" class="form-control mt-3 mb-3" id="name" placeholder="Nome do Produto"
        formControlName = "name"/>
</div>

<div>
    <input type="text" class="form-control" id="price" placeholder="Preço do Produto"
        formControlName = "price"/>
</div>

<div class="mt-3 mb-3">
    <textarea class="form-control" rows="5" id="detail" placeholder="Descrição do Produto"
            formControlName = "detail"></textarea>
</div>

<div class="text-right">
    <button type="submit" class="btn btn-outline-primary" style="padding: 7px 8px 1px 8px;"  [disabled]="!form.valid" (click)="cadastrar()">
        <h4>Cadastrar</h4>
    </button>
    <button style="margin-left: 5px; padding: 7px 8px 1px 8px;" type="button" class="btn btn-outline-danger" (click)="onCancel()">
        <h4>Cancelar</h4>
    </button>

</div>
</form>

<br />
</main>

<swal
#deleteSwal
title="Sucesso"
text="Produto adicionado com sucesso!"
type="success">
</swal>
